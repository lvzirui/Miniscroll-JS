/**
 * miniscroll_js v2.0.0
 * Miniscroll-JS
 * 
 * author Roger Luiz <rogerluizm@gmail.com>
 */

(function(window,document){"use strict";var root=this;var Miniscroll=Miniscroll||{VERSION:'2.0.0',TOUCH_EVENTS:('ontouchstart'in document.documentElement),settings:{axis:"y",size:10,sizethumb:"auto",scrollbarSize:"auto",thumbColor:"#e74c3c",trackerColor:"#e6e9ed",isKeyEvent:false,turnOffWheel:false,onScroll:function(){}}};Miniscroll.Scroll=function(selector,options){root=this;this.target=Miniscroll.Utils.get(selector);this.container=null;this.thumb=null;this.tracker=null;this.settings=Miniscroll.settings;Miniscroll.Utils.concat(this.settings,options);this.create=new Miniscroll.Create(this);this.input=new Miniscroll.Input(this);this.create.init();this.input.init();};Miniscroll.Scroll.prototype.constructor=Miniscroll.Scroll;Miniscroll.Utils={getCss:function(element,property){var result;if(!window.getComputedStyle){if(document.defaultView&&document.defaultView.getComputedStyle){result=document.defaultView.getComputedStyle.getPropertyValue(property);}else{result=(element.currentStyle)?element.currentStyle[property]:element.style[property];}}else{result=window.getComputedStyle(element).getPropertyValue(property);}
return result;},setCss:function(element,property){for(var prop in property){if(prop==='opacity'){element.style.filter='alpha(opacity='+(property[prop]*100)+')';element.style.KhtmlOpacity=property[prop];element.style.MozOpacity=property[prop];element.style.opacity=property[prop];}else{if(prop==="marginLeft"||prop==="marginTop"||prop==="left"||prop==="top"||prop==="width"||prop==="height"){element.style[prop]=(typeof property[prop]==="string")?property[prop]:property[prop]+"px";}else{element.style[prop]=property[prop];}}}},get:function(selector){var element=null;var self=this;if(selector===window||selector===document||selector==="body"||selector==="body, html"){return document.body;}
if(document.querySelectorAll&&typeof selector=="string"){return document.querySelectorAll(selector)[0];}else{if(typeof selector==='string'||selector instanceof String){var token=selector.replace(/^\s+/,'').replace(/\s+$/,'');if(token.indexOf("#")>-1){this.type='id';var match=token.split('#');element=document.getElementById(match[1]);}
if(token.indexOf(".")>-1){this.type='class';var match=token.split('.');var tags=document.getElementsByTagName('*');var len=tags.length;var found=[];var count=0;for(var i=0;i<len;i++){if(tags[i].className&&tags[i].className.match(new RegExp("(^|\\s)"+match[1]+"(\\s|$)"))){element=tags[i];}}}
return element;}else{return selector;}}},create:function(element,tagName,attrs){var tag=document.createElement(tagName);if(attrs){for(var key in attrs){if(attrs.hasOwnProperty(key)){tag.setAttribute(key,attrs[key]);}}
element.appendChild(tag);}
return tag;},offset:function(element){var positionType=Miniscroll.Utils.getCss(element,'position');var style=new Miniscroll.Point((element.style.left=="")?0:parseInt(element.style.left),(element.style.top=="")?0:parseInt(element.style.top));var top=(positionType=="relative")?style.y:element.offsetTop;var left=(positionType=="relative")?style.x:element.offsetLeft;var height=element.offsetHeight;var width=element.offsetWidth;if(typeof element.offsetHeight==="undefined"){height=parseInt(Miniscroll.Utils.getCss(element,"height"));}
if(typeof element.offsetWidth==="undefined"){width=parseInt(Miniscroll.Utils.getCss(element,"width"));}
return{top:top,left:left,width:width,height:height};},pointer:function(event){var posx=0,posy=0;if(event.pageX||event.pageY)
{posx=event.pageX;posy=event.pageY;}
else if(event.clientX||event.clientY)
{posx=event.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;posy=event.clientY+document.body.scrollTop+document.documentElement.scrollTop;}
return new Miniscroll.Point(posx,posy);},concat:function(){for(var i=1;i<arguments.length;i++){for(var key in arguments[i]){if(arguments[i].hasOwnProperty(key)){arguments[0][key]=arguments[i][key];}}}
return arguments[0];},getZindex:function(target){var topZIndex=0;var zIndex=0;var pos=0;var tags=target.getElementsByTagName('*');for(var i=0;i<tags.length;i++){pos=Miniscroll.Utils.getCss(tags[i],"position");tags[i].style.position="relative";zIndex=Number(Miniscroll.Utils.getCss(tags[i],"z-index"));tags[i].style.position=pos;if(zIndex>topZIndex){topZIndex=zIndex+1;}}
return topZIndex;}};Miniscroll.Point=function(x,y){if(!(this instanceof Miniscroll.Point)){return new Miniscroll.Point(x,y);}
this.x=(!!x)?x:0;this.y=(!!y)?y:0;this.distance=function(p1,p2){var xs=0,ys=0;xs=p2.x-p1.x;xs=xs*xs;ys=p2.y-p1.y;ys=ys*ys;return Math.sqrt(xs+ys);}
return this;};Miniscroll.Point.prototype.constructor=Miniscroll.Point;Miniscroll.Event={on:function(element,type,callback,root){var self=root;var mousewheel=(/Firefox/i.test(navigator.userAgent))?"DOMMouseScroll":"mousewheel";if(element.addEventListener)
{if(type==="mousewheel")
{element.addEventListener(mousewheel,function(event){callback.call(self,event,this);},false);}
else
{element.addEventListener(type,function(event){callback.call(self,event,this);},false);}}
else if(element.attachEvent)
{element.attachEvent('on'+type,function(event){callback.call(self,event,this);});}
else
{element['on'+type]=function(event){callback.call(self,event,this);};}},off:function(element,type,callback,root){var self=root;var mousewheel=(/Firefox/i.test(navigator.userAgent))?"DOMMouseScroll":"mousewheel";if(element.addEventListener)
{if(type==="mousewheel"){element.removeEventListener(mousewheel,function(event){callback.call(self,event,this);},false);}else{element.removeEventListener(type,function(event){callback.call(self,event,this);},false);}}
else if(element.attachEvent)
{element.detachEvent('on'+type,function(event){callback.call(self,event,this);});}
else
{element['on'+type]=null;}},preventDefault:function(event){if(event.preventDefault){event.preventDefault();}else{event.returnValue=false;}},mousewheel:function(element,callback,root){}};Miniscroll.Update=function(){this.scroll=scroll;};Miniscroll.Destroy=function(){this.scroll=scroll;};Miniscroll.Destroy.prototype.constructor=Miniscroll.Destroy;Miniscroll.Create=function(scroll){this.scroll=scroll;this.prefix="miniscroll-";this.scrollName="miniscroll";this._scrollSize=new Miniscroll.Point(0,0);this._scrollPos=new Miniscroll.Point(0,0);this._trackerSize=new Miniscroll.Point(0,0);this._thumbSize=new Miniscroll.Point(0,0);this._offset=new Miniscroll.Point(0,0);this._settings=this.scroll.settings;this._topZindex=Miniscroll.Utils.getZindex(this.scroll.target);return this;};Miniscroll.Create.prototype={init:function(){this.addContainer();this.addTracker();this.addThumb();},addContainer:function(){var typeId=(this.scroll.target.getAttribute("id")!==null)?true:false;var typeClass=(this.scroll.target.getAttribute("class")!==null)?true:false;if(typeId){this.scrollName=this.scroll.target.getAttribute("id");}else if(typeClass){this.scrollName=this.scroll.target.getAttribute("class");}
this.scroll.container=new Miniscroll.Utils.create(this.scroll.target,"div",{"id":this.prefix+this.scrollName,"class":this.prefix+"container"});this._scrollSize.x=(this._settings.scrollbarSize!="auto")?this._settings.scrollbarSize:new Miniscroll.Utils.offset(this.scroll.target).width;this._scrollSize.y=(this._settings.scrollbarSize!="auto")?this._settings.scrollbarSize:new Miniscroll.Utils.offset(this.scroll.target).height;this._scrollPos.x=new Miniscroll.Utils.offset(this.scroll.target).left+(this._scrollSize.x-this._settings.size);this._scrollPos.y=new Miniscroll.Utils.offset(this.scroll.target).top+(this._scrollSize.y-this._settings.size);Miniscroll.Utils.setCss(this.scroll.container,{position:"absolute",width:((this._settings.axis=="x")?this._scrollSize.x:this._settings.size)+"px",height:((this._settings.axis=="y")?this._scrollSize.y:this._settings.size)+"px",top:((this._settings.axis=="y")?new Miniscroll.Utils.offset(this.scroll.target).top:this._scrollPos.y)+"px",left:((this._settings.axis=="x")?new Miniscroll.Utils.offset(this.scroll.target).left:this._scrollPos.x)+"px",zIndex:this._topZindex});},addTracker:function(){this.scroll.tracker=new Miniscroll.Utils.create(this.scroll.container,"div",{"class":this.prefix+"tracker"});this._trackerSize.x=(this._settings.axis==="x")?Miniscroll.Utils.offset(this.scroll.container).width:this._settings.size;this._trackerSize.y=(this._settings.axis==="y")?Miniscroll.Utils.offset(this.scroll.container).height:this._settings.size;Miniscroll.Utils.setCss(this.scroll.tracker,{width:this._trackerSize.x+"px",height:this._trackerSize.y+"px",backgroundColor:this._settings.trackerColor});},addThumb:function(){this.scroll.thumb=new Miniscroll.Utils.create(this.scroll.container,"div",{"class":this.prefix+"thumb"});var containerOffset=Miniscroll.Utils.offset(this.scroll.container);var trackerOffset=Miniscroll.Utils.offset(this.scroll.tracker);this._offset.x=(containerOffset.width*trackerOffset.width)/this.scroll.target.scrollWidth;this._offset.y=(containerOffset.height*trackerOffset.height)/this.scroll.target.scrollHeight;this._thumbSize.x=(this._settings.sizethumb==='auto')?this._offset.x:this._settings.sizethumb;this._thumbSize.y=(this._settings.sizethumb==='auto')?this._offset.y:this._settings.sizethumb;Miniscroll.Utils.setCss(this.scroll.thumb,{position:"absolute",top:"0px",left:"0px",width:((this._settings.axis==="x")?this._thumbSize.x:this._settings.size)+"px",height:((this._settings.axis==="y")?this._thumbSize.y:this._settings.size)+"px",backgroundColor:this._settings.thumbColor});}};Miniscroll.Create.prototype.constructor=Miniscroll.Create;Miniscroll.Mouse=function(scroll){this.scroll=scroll;};Miniscroll.Mouse.prototype={start:function(){},destroy:function(){}};Miniscroll.Mouse.prototype.constructor=Miniscroll.Mouse;Miniscroll.Touch=function(scroll){this.scroll=scroll;};Miniscroll.Touch.prototype={start:function(){},destroy:function(){}};Miniscroll.Touch.prototype.constructor=Miniscroll.Touch;Miniscroll.Input=function(scroll){this.scroll=scroll;this.mouse=new Miniscroll.Mouse(this.scroll);this.touch=new Miniscroll.Touch(this.scroll);};Miniscroll.Input.prototype={init:function(){if(!Miniscroll.TOUCH_EVENTS){this.mouse.start();}else{this.touch.start();}},update:function(){},destroy:function(){if(!Miniscroll.TOUCH_EVENTS){this.mouse.destroy();}else{this.touch.destroy();}}};Miniscroll.Input.prototype.constructor=Miniscroll.Input;(function(){if(window.jQuery){jQuery.fn.miniscroll=function(options){return new Miniscroll.Scroll(this,options);};}}());window.Miniscroll=Miniscroll;})(window,document);if(!Math.trunc){Math.trunc=function trunc(x){return x<0?Math.ceil(x):Math.floor(x);};}
if(!Function.prototype.bind){Function.prototype.bind=(function(){var slice=Array.prototype.slice;return function(thisArg){var target=this,boundArgs=slice.call(arguments,1);if(typeof target!=='function'){throw new TypeError();}
function bound(){var args=boundArgs.concat(slice.call(arguments));target.apply(this instanceof bound?this:thisArg,args);}
bound.prototype=(function F(proto){if(proto){F.prototype=proto;}
if(!(this instanceof F)){return new F;}})(target.prototype);return bound;};})();}
if(!Array.isArray)
{Array.isArray=function(arg)
{return Object.prototype.toString.call(arg)=='[object Array]';};}
if(!Array.prototype.forEach)
{Array.prototype.forEach=function(fun)
{"use strict";if(this===void 0||this===null)
{throw new TypeError();}
var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function")
{throw new TypeError();}
var thisArg=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<len;i++)
{if(i in t)
{fun.call(thisArg,t[i],i,t);}}};}
if(typeof Array.prototype.indexOf!=="function")
{Array.prototype.indexOf=function(item)
{"use strict";for(var i=0;i<this.length;i++)
{if(this[i]===item)
{return i;}}
return-1;};}
(function(){var lastTime=0;var vendors=['webkit','moz'];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];}
if(!window.requestAnimationFrame){window.requestAnimationFrame=function(callback,element){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};}
if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(id){clearTimeout(id);};}}());if(!window.console)
{window.console={};window.console.log=window.console.assert=function(){};window.console.warn=window.console.assert=function(){};}